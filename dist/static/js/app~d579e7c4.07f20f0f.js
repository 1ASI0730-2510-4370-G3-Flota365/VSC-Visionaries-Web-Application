"use strict";(self["webpackChunkflota365_vue"]=self["webpackChunkflota365_vue"]||[]).push([[506],{2802:(e,r,n)=>{n.d(r,{KJ:()=>v,KP:()=>m,MG:()=>x,Uo:()=>w,e1:()=>A,gI:()=>h,iF:()=>b});var t=n(3604),a=n(9201),u=n(4048),i=n(388),c=n(9258),s=(n(6280),n(6918),n(8706),n(2008),n(113),n(8980),n(2062),n(4114),n(4554),n(9089),n(1688),n(3288),n(2010),n(8111),n(2489),n(116),n(1701),n(6099),n(8940),n(7764),n(2953),n(6031),n(7767)),o=n(4497),p=n(6815),f=n(7125),l=function(e){return new Promise((function(r){return setTimeout(r,e)}))},d=function(e){return Math.max.apply(Math,(0,c.A)(e.map((function(e){return e.id}))).concat([0]))+1},h={getAll:function(){var e=(0,i.A)((0,u.A)().mark((function e(){return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(300);case 2:return e.abrupt("return",{data:(0,c.A)(s)});case 3:case"end":return e.stop()}}),e)})));function r(){return e.apply(this,arguments)}return r}(),getById:function(){var e=(0,i.A)((0,u.A)().mark((function e(r){var n;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(200);case 2:if(n=s.find((function(e){return e.id===parseInt(r)})),n){e.next=5;break}throw new Error("Vehículo no encontrado");case 5:return e.abrupt("return",{data:(0,a.A)({},n)});case 6:case"end":return e.stop()}}),e)})));function r(r){return e.apply(this,arguments)}return r}(),create:function(){var e=(0,i.A)((0,u.A)().mark((function e(r){var n;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(500);case 2:return n=(0,a.A)((0,a.A)({},r),{},{id:d(s)}),s.push(n),e.abrupt("return",{data:n});case 5:case"end":return e.stop()}}),e)})));function r(r){return e.apply(this,arguments)}return r}(),update:function(){var e=(0,i.A)((0,u.A)().mark((function e(r,n){var t,i;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(400);case 2:if(t=s.findIndex((function(e){return e.id===parseInt(r)})),-1!==t){e.next=5;break}throw new Error("Vehículo no encontrado");case 5:return i=(0,a.A)((0,a.A)({},s[t]),n),s[t]=i,e.abrupt("return",{data:i});case 8:case"end":return e.stop()}}),e)})));function r(r,n){return e.apply(this,arguments)}return r}(),delete:function(){var e=(0,i.A)((0,u.A)().mark((function e(r){var n;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(300);case 2:if(n=s.findIndex((function(e){return e.id===parseInt(r)})),-1!==n){e.next=5;break}throw new Error("Vehículo no encontrado");case 5:return s.splice(n,1),e.abrupt("return",{data:{success:!0}});case 7:case"end":return e.stop()}}),e)})));function r(r){return e.apply(this,arguments)}return r}()},w={getAll:function(){var e=(0,i.A)((0,u.A)().mark((function e(){return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(300);case 2:return e.abrupt("return",{data:(0,c.A)(o)});case 3:case"end":return e.stop()}}),e)})));function r(){return e.apply(this,arguments)}return r}(),getById:function(){var e=(0,i.A)((0,u.A)().mark((function e(r){var n;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(200);case 2:if(n=o.find((function(e){return e.id===parseInt(r)})),n){e.next=5;break}throw new Error("Conductor no encontrado");case 5:return e.abrupt("return",{data:(0,a.A)({},n)});case 6:case"end":return e.stop()}}),e)})));function r(r){return e.apply(this,arguments)}return r}(),create:function(){var e=(0,i.A)((0,u.A)().mark((function e(r){var n;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(500);case 2:return n=(0,a.A)((0,a.A)({},r),{},{id:d(o)}),o.push(n),e.abrupt("return",{data:n});case 5:case"end":return e.stop()}}),e)})));function r(r){return e.apply(this,arguments)}return r}(),update:function(){var e=(0,i.A)((0,u.A)().mark((function e(r,n){var t,i;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(400);case 2:if(t=o.findIndex((function(e){return e.id===parseInt(r)})),-1!==t){e.next=5;break}throw new Error("Conductor no encontrado");case 5:return i=(0,a.A)((0,a.A)({},o[t]),n),o[t]=i,e.abrupt("return",{data:i});case 8:case"end":return e.stop()}}),e)})));function r(r,n){return e.apply(this,arguments)}return r}(),delete:function(){var e=(0,i.A)((0,u.A)().mark((function e(r){var n;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(300);case 2:if(n=o.findIndex((function(e){return e.id===parseInt(r)})),-1!==n){e.next=5;break}throw new Error("Conductor no encontrado");case 5:return o.splice(n,1),e.abrupt("return",{data:{success:!0}});case 7:case"end":return e.stop()}}),e)})));function r(r){return e.apply(this,arguments)}return r}()},A={getAll:function(){var e=(0,i.A)((0,u.A)().mark((function e(){return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(300);case 2:return e.abrupt("return",{data:(0,c.A)(p)});case 3:case"end":return e.stop()}}),e)})));function r(){return e.apply(this,arguments)}return r}(),getById:function(){var e=(0,i.A)((0,u.A)().mark((function e(r){var n;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(200);case 2:if(n=p.find((function(e){return e.id===parseInt(r)})),n){e.next=5;break}throw new Error("Flota no encontrada");case 5:return e.abrupt("return",{data:(0,a.A)({},n)});case 6:case"end":return e.stop()}}),e)})));function r(r){return e.apply(this,arguments)}return r}(),getVehicles:function(){var e=(0,i.A)((0,u.A)().mark((function e(r){var n,t;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(300);case 2:if(n=p.find((function(e){return e.id===parseInt(r)})),n){e.next=5;break}throw new Error("Flota no encontrada");case 5:return t=s.filter((function(e){return e.fleet===n.name})),e.abrupt("return",{data:t});case 7:case"end":return e.stop()}}),e)})));function r(r){return e.apply(this,arguments)}return r}(),create:function(){var e=(0,i.A)((0,u.A)().mark((function e(r){var n;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(500);case 2:return n=(0,a.A)((0,a.A)({},r),{},{id:d(p),vehicleCount:0,performance:100}),p.push(n),e.abrupt("return",{data:n});case 5:case"end":return e.stop()}}),e)})));function r(r){return e.apply(this,arguments)}return r}(),update:function(){var e=(0,i.A)((0,u.A)().mark((function e(r,n){var t,i;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(400);case 2:if(t=p.findIndex((function(e){return e.id===parseInt(r)})),-1!==t){e.next=5;break}throw new Error("Flota no encontrada");case 5:return i=(0,a.A)((0,a.A)({},p[t]),n),p[t]=i,e.abrupt("return",{data:i});case 8:case"end":return e.stop()}}),e)})));function r(r,n){return e.apply(this,arguments)}return r}(),delete:function(){var e=(0,i.A)((0,u.A)().mark((function e(r){var n;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(300);case 2:if(n=p.findIndex((function(e){return e.id===parseInt(r)})),-1!==n){e.next=5;break}throw new Error("Flota no encontrada");case 5:return p.splice(n,1),e.abrupt("return",{data:{success:!0}});case 7:case"end":return e.stop()}}),e)})));function r(r){return e.apply(this,arguments)}return r}(),assignVehicles:function(){var e=(0,i.A)((0,u.A)().mark((function e(r,n){var a,i,c,o,f,d;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=n.vehicleIds,e.next=3,l(500);case 3:if(i=p.find((function(e){return e.id===parseInt(r)})),i){e.next=6;break}throw new Error("Flota no encontrada");case 6:c=(0,t.A)(a),e.prev=7,f=(0,u.A)().mark((function e(){var r,n;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=o.value,n=s.find((function(e){return e.id===parseInt(r)})),n&&(n.fleet=i.name);case 3:case"end":return e.stop()}}),e)})),c.s();case 10:if((o=c.n()).done){e.next=14;break}return e.delegateYield(f(),"t0",12);case 12:e.next=10;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e["catch"](7),c.e(e.t1);case 19:return e.prev=19,c.f(),e.finish(19);case 22:return d=p.findIndex((function(e){return e.id===parseInt(r)})),-1!==d&&(p[d].vehicleCount+=a.length),e.abrupt("return",{data:{success:!0,count:a.length}});case 25:case"end":return e.stop()}}),e,null,[[7,16,19,22]])})));function r(r,n){return e.apply(this,arguments)}return r}()},v={generate:function(){var e=(0,i.A)((0,u.A)().mark((function e(r){var n;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(800);case 2:return n={id:d(f.reports),name:"Reporte_".concat(r.type,"_").concat((new Date).toISOString().split("T")[0],".").concat(r.format),type:{performance:"Rendimiento de flota",fuel:"Consumo de combustible",maintenance:"Mantenimiento",drivers:"Desempeño de conductores",custom:"Reporte personalizado"}[r.type],date:(new Date).toLocaleString(),author:"Juan Supervisor"},f.reports.push(n),e.abrupt("return",{data:n});case 5:case"end":return e.stop()}}),e)})));function r(r){return e.apply(this,arguments)}return r}(),getAll:function(){var e=(0,i.A)((0,u.A)().mark((function e(){return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(300);case 2:return e.abrupt("return",{data:(0,c.A)(f.reports)});case 3:case"end":return e.stop()}}),e)})));function r(){return e.apply(this,arguments)}return r}(),getById:function(){var e=(0,i.A)((0,u.A)().mark((function e(r){var n;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(200);case 2:if(n=f.reports.find((function(e){return e.id===parseInt(r)})),n){e.next=5;break}throw new Error("Reporte no encontrado");case 5:return e.abrupt("return",{data:(0,a.A)({},n)});case 6:case"end":return e.stop()}}),e)})));function r(r){return e.apply(this,arguments)}return r}(),delete:function(){var e=(0,i.A)((0,u.A)().mark((function e(r){var n;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(300);case 2:if(n=f.reports.findIndex((function(e){return e.id===parseInt(r)})),-1!==n){e.next=5;break}throw new Error("Reporte no encontrado");case 5:return f.reports.splice(n,1),e.abrupt("return",{data:{success:!0}});case 7:case"end":return e.stop()}}),e)})));function r(r){return e.apply(this,arguments)}return r}()},m={getActiveVehicles:function(){var e=(0,i.A)((0,u.A)().mark((function e(){var r;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(300);case 2:return r=f.monitoring.vehicles.map((function(e){return"active"===e.status||"warning"===e.status?(0,a.A)((0,a.A)({},e),{},{speed:Math.max(0,Math.min(120,e.speed+(10*Math.random()-5))),location:{lat:e.location.lat+(.005*Math.random()-.0025),lng:e.location.lng+(.005*Math.random()-.0025)}}):(0,a.A)({},e)})),e.abrupt("return",{data:r});case 4:case"end":return e.stop()}}),e)})));function r(){return e.apply(this,arguments)}return r}(),getVehicleLocation:function(){var e=(0,i.A)((0,u.A)().mark((function e(r){var n,t;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(200);case 2:if(n=f.monitoring.vehicles.find((function(e){return e.id===parseInt(r)})),n){e.next=5;break}throw new Error("Vehículo no encontrado en monitoreo");case 5:return t={lat:n.location.lat+(.002*Math.random()-.001),lng:n.location.lng+(.002*Math.random()-.001)},e.abrupt("return",{data:t});case 7:case"end":return e.stop()}}),e)})));function r(r){return e.apply(this,arguments)}return r}(),getAlerts:function(){var e=(0,i.A)((0,u.A)().mark((function e(){return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(300);case 2:return e.abrupt("return",{data:(0,c.A)(f.monitoring.alerts)});case 3:case"end":return e.stop()}}),e)})));function r(){return e.apply(this,arguments)}return r}()},x={runAnalysis:function(){var e=(0,i.A)((0,u.A)().mark((function e(r){var n;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(3e3);case 2:return n={vehicles:[{model:"Toyota Hilux",plate:"ABC-123",probability:87,system:"Sistema de frenos"},{model:"Ford Ranger",plate:"XYZ-789",probability:92,system:"Sistema de transmisión"},{model:"Nissan Frontier",plate:"GHI-789",probability:78,system:"Sistema eléctrico"},{model:"Toyota Hilux",plate:"JKL-012",probability:81,system:"Sistema de suspensión"}],recommendations:["Programar mantenimiento preventivo para los 4 vehículos identificados","Revisar historial de mantenimiento de la flota Ford Ranger (alta incidencia de problemas de transmisión)","Implementar ciclo de inspección más frecuente para el sistema eléctrico de vehículos Nissan Frontier","Actualizar programa de mantenimiento preventivo de los sistemas de suspensión"]},e.abrupt("return",{data:n});case 4:case"end":return e.stop()}}),e)})));function r(r){return e.apply(this,arguments)}return r}(),getPredictions:function(){var e=(0,i.A)((0,u.A)().mark((function e(){var r;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(300);case 2:return r={failureProbability:[{vehicle:"ABC-123",probability:.87,system:"frenos",timeFrame:30},{vehicle:"XYZ-789",probability:.92,system:"transmisión",timeFrame:15},{vehicle:"GHI-789",probability:.78,system:"eléctrico",timeFrame:45},{vehicle:"JKL-012",probability:.81,system:"suspensión",timeFrame:30}]},e.abrupt("return",{data:r});case 4:case"end":return e.stop()}}),e)})));function r(){return e.apply(this,arguments)}return r}(),getRecentAnalyses:function(){var e=(0,i.A)((0,u.A)().mark((function e(){return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(300);case 2:return e.abrupt("return",{data:f.analytics.recent_analyses});case 3:case"end":return e.stop()}}),e)})));function r(){return e.apply(this,arguments)}return r}()},b={login:function(){var e=(0,i.A)((0,u.A)().mark((function e(r){var n,t;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(800);case 2:if(!r.email||!r.password){e.next=8;break}return n="mock-token-".concat(Date.now()),t={id:1,name:"Juan Supervisor",role:"Administrador",email:r.email},e.abrupt("return",{data:{user:t,token:n}});case 8:throw new Error("Credenciales inválidas");case 9:case"end":return e.stop()}}),e)})));function r(r){return e.apply(this,arguments)}return r}(),logout:function(){var e=(0,i.A)((0,u.A)().mark((function e(){return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(300);case 2:return e.abrupt("return",{data:{success:!0}});case 3:case"end":return e.stop()}}),e)})));function r(){return e.apply(this,arguments)}return r}(),getProfile:function(){var e=(0,i.A)((0,u.A)().mark((function e(){var r;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(200);case 2:return r={id:1,name:"Juan Supervisor",role:"Administrador",email:"juan@flota365.com"},e.abrupt("return",{data:r});case 4:case"end":return e.stop()}}),e)})));function r(){return e.apply(this,arguments)}return r}()}}}]);