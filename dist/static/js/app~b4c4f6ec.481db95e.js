"use strict";(self["webpackChunkflota365_vue"]=self["webpackChunkflota365_vue"]||[]).push([[869],{814:(t,e,a)=>{a.d(e,{A:()=>v});a(2675),a(9463);var s=function(){var t=this,e=t._self._c;return e("div",[e("Header",{attrs:{title:"Dashboard"}}),e("div",{staticClass:"dashboard-grid"},t._l(t.statCards,(function(a,s){return e("div",{key:s,staticClass:"stats-card"},[e("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"flex-start"}},[e("div",[e("div",{staticClass:"stats-label"},[t._v(t._s(a.label))]),e("div",{staticClass:"stats-value"},[t._v(t._s(a.value))]),e("div",{style:{color:a.changeColor,fontSize:"0.875rem"}},[e("i",{class:["fas",a.changeIcon]}),t._v(" "+t._s(a.changeText)+" ")])]),e("div",{staticClass:"stats-icon"},[e("i",{class:["fas",a.icon]})])])])})),0),e("div",{staticClass:"card",staticStyle:{"margin-top":"1.875rem"}},[e("div",{staticClass:"card-header"},[e("h2",{staticClass:"card-title"},[t._v("Vehículos activos")]),e("button",{staticClass:"btn btn-primary",on:{click:t.exportData}},[e("i",{staticClass:"fas fa-download",staticStyle:{"margin-right":"0.5rem"}}),t._v(" Exportar ")])]),e("table",{staticClass:"data-table"},[t._m(0),e("tbody",t._l(t.activeVehicles,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.plate))]),e("td",[t._v(t._s(a.model)+" "+t._s(a.year))]),e("td",[t._v(t._s(a.assignedDriver||"No asignado"))]),e("td",[e("StatusBadge",{attrs:{status:a.status,text:t.getStatusText(a.status)}})],1),e("td",[e("button",{staticClass:"btn btn-secondary",staticStyle:{padding:"0.25rem 0.5rem","font-size":"0.813rem"},on:{click:function(e){return t.viewVehicle(a)}}},[e("i",{staticClass:"fas fa-eye"})]),e("button",{staticClass:"btn btn-secondary",staticStyle:{padding:"0.25rem 0.5rem","font-size":"0.813rem"},on:{click:function(e){return t.editVehicle(a)}}},[e("i",{staticClass:"fas fa-edit"})])])])})),0)])]),e("div",{staticClass:"card"},[t._m(1),e("div",{staticStyle:{display:"flex","flex-direction":"column",gap:"0.75rem"}},t._l(t.stats.alerts,(function(a,s){return e("div",{key:s,staticStyle:{display:"flex",gap:"1rem",padding:"0.75rem"},style:t.getAlertStyle(a.type)},[e("i",{class:["fas",t.getAlertIcon(a.type)],style:{color:t.getAlertColor(a.type),fontSize:"1.25rem"}}),e("div",[e("h4",{staticStyle:{margin:"0"}},[t._v(t._s(a.title))]),e("p",{staticStyle:{margin:"0.25rem 0 0 0",color:"#666"}},[t._v(t._s(a.description))]),e("p",{staticStyle:{margin:"0.25rem 0 0 0","font-size":"0.813rem",color:"#999"}},[t._v("hace "+t._s(a.time))])])])})),0)]),e("Modal",{attrs:{show:t.showVehicleModal,title:"Detalles del Vehículo"},on:{close:function(e){t.showVehicleModal=!1}},scopedSlots:t._u([{key:"footer",fn:function(){return[e("button",{staticClass:"btn btn-secondary",on:{click:function(e){t.showVehicleModal=!1}}},[t._v("Cerrar")]),e("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.editVehicle(t.selectedVehicle)}}},[t._v("Editar")])]},proxy:!0}])},[t.selectedVehicle?e("div",[e("div",{staticStyle:{"margin-bottom":"1rem"}},[e("h3",[t._v(t._s(t.selectedVehicle.model)+" ("+t._s(t.selectedVehicle.plate)+")")]),e("StatusBadge",{attrs:{status:t.selectedVehicle.status,text:t.getStatusText(t.selectedVehicle.status)}})],1),e("div",{staticStyle:{display:"grid","grid-template-columns":"1fr 1fr",gap:"1rem","margin-bottom":"1rem"}},[e("div",[e("p",[e("strong",[t._v("Año:")]),t._v(" "+t._s(t.selectedVehicle.year))]),e("p",[e("strong",[t._v("Kilometraje:")]),t._v(" "+t._s(t.selectedVehicle.mileage)+" km")]),e("p",[e("strong",[t._v("Conductor:")]),t._v(" "+t._s(t.selectedVehicle.assignedDriver||"No asignado"))])]),e("div",[e("p",[e("strong",[t._v("Último servicio:")]),t._v(" "+t._s(t.formatDate(t.selectedVehicle.lastService)))]),e("p",[e("strong",[t._v("Próximo servicio:")]),t._v(" "+t._s(t.formatDate(t.selectedVehicle.nextService)))]),e("p",[e("strong",[t._v("Flota:")]),t._v(" "+t._s(t.selectedVehicle.fleet))])])])]):t._e()])],1)},i=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("Placa")]),e("th",[t._v("Modelo")]),e("th",[t._v("Conductor")]),e("th",[t._v("Estado")]),e("th",[t._v("Acciones")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header"},[e("h2",{staticClass:"card-title"},[t._v("Alertas recientes")])])}],r=(a(2008),a(4114),a(3288),a(8111),a(2489),a(6099),a(6213)),n=a(7125),l=a(7767);const o={name:"Dashboard",components:{Header:r.Y9,StatusBadge:r.Wh,Modal:r.aF},data:function(){return{stats:n,vehicles:l,showVehicleModal:!1,selectedVehicle:null}},computed:{statCards:function(){return[{label:"Total de vehículos",value:this.stats.total_vehicles,icon:"fa-car",changeColor:"var(--color-success)",changeIcon:"fa-arrow-up",changeText:"".concat(this.stats.recent_changes.vehicles,"% esta semana")},{label:"Conductores activos",value:this.stats.active_drivers,icon:"fa-id-card",changeColor:"var(--color-warning)",changeIcon:"fa-arrow-down",changeText:"".concat(Math.abs(this.stats.recent_changes.drivers),"% esta semana")},{label:"En mantenimiento",value:this.stats.maintenance_vehicles,icon:"fa-tools",changeColor:"var(--color-error)",changeIcon:"fa-arrow-up",changeText:"".concat(this.stats.recent_changes.maintenance,"% esta semana")},{label:"Eficiencia de flota",value:"".concat(this.stats.fleet_efficiency,"%"),icon:"fa-chart-line",changeColor:"var(--color-success)",changeIcon:"fa-arrow-up",changeText:"".concat(this.stats.recent_changes.efficiency,"% este mes")}]},activeVehicles:function(){return this.vehicles.filter((function(t){return"active"===t.status||"warning"===t.status}))}},methods:{getStatusText:function(t){var e={active:"Activo",inactive:"Inactivo",warning:"En ruta"};return e[t]||t},getAlertStyle:function(t){var e={error:"var(--color-error)",warning:"var(--color-warning)",info:"var(--color-turquoise)"},a=e[t]||"var(--color-turquoise)";return{borderLeft:"4px solid ".concat(a),backgroundColor:"rgba(244, 67, 54, 0.05)"}},getAlertColor:function(t){var e={error:"var(--color-error)",warning:"var(--color-warning)",info:"var(--color-turquoise)"};return e[t]||"var(--color-turquoise)"},getAlertIcon:function(t){var e={error:"fa-exclamation-circle",warning:"fa-bell",info:"fa-info-circle"};return e[t]||"fa-info-circle"},viewVehicle:function(t){this.selectedVehicle=t,this.showVehicleModal=!0},editVehicle:function(t){this.$router.push({path:"/vehicle-management",query:{edit:t.id}})},exportData:function(){alert("Exportando datos de vehículos...")},formatDate:function(t){if(!t)return"N/A";var e=new Date(t);return e.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})}}},c=o;var d=a(1656),u=(0,d.A)(c,s,i,!1,null,null,null);const v=u.exports},5441:(t,e,a)=>{a.d(e,{A:()=>v});a(2675),a(9463),a(2008),a(2062),a(4782),a(8111),a(1701),a(6099);var s=function(){var t=this,e=t._self._c;return e("div",[e("Header",{attrs:{title:"Analytics AI"}}),e("div",{staticStyle:{"margin-bottom":"1.875rem"}},[e("h2",[t._v("Análisis Predictivo con Inteligencia Artificial")]),e("p",{staticStyle:{"margin-bottom":"1.25rem"}},[t._v("Utilice nuestros modelos de inteligencia artificial para analizar el comportamiento de su flota, predecir mantenimientos y optimizar operaciones.")]),e("div",{staticClass:"dashboard-grid"},t._l(t.stats.analytics.modules,(function(a,s){return e("div",{key:s,staticClass:"card",staticStyle:{padding:"1.25rem"}},[e("div",{staticStyle:{display:"flex","align-items":"center","margin-bottom":"1rem"}},[e("div",{staticStyle:{width:"3rem",height:"3rem","border-radius":"50%","background-color":"rgba(108, 218, 231, 0.1)",display:"flex","align-items":"center","justify-content":"center","margin-right":"1rem"}},[e("i",{class:["fas",a.icon],staticStyle:{"font-size":"1.5rem",color:"var(--color-turquoise)"}})]),e("h3",{staticStyle:{margin:"0"}},[t._v(t._s(a.title))])]),e("p",[t._v(t._s(a.description))]),e("button",{staticClass:"btn btn-primary",staticStyle:{width:"100%","margin-top":"0.5rem"},on:{click:function(e){return t.startAnalysis(a)}}},[t._v(" Iniciar análisis ")])])})),0)]),e("div",{staticClass:"card",staticStyle:{"margin-bottom":"1.875rem"}},[e("div",{staticClass:"card-header"},[e("h2",{staticClass:"card-title"},[t._v("Predicción de Fallos y Mantenimiento")]),e("div",[t._m(0),e("button",{staticClass:"btn btn-primary",staticStyle:{"margin-left":"0.5rem"},on:{click:t.runAnalysis}},[e("i",{staticClass:"fas fa-play",staticStyle:{"margin-right":"0.5rem"}}),t._v(" Ejecutar Análisis ")])])]),e("div",{staticStyle:{display:"grid","grid-template-columns":"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.25rem",margin:"1.25rem 0"}},t._l(t.analysisControls,(function(a,s){return e("div",{key:s,staticClass:"form-group",staticStyle:{margin:"0"}},[e("label",{staticClass:"form-label",attrs:{for:a.id}},[t._v(t._s(a.label))]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"control.value"}],staticClass:"form-control",attrs:{id:a.id},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"value",e.target.multiple?s:s[0])}}},t._l(a.options,(function(a){return e("option",{key:a.value,domProps:{value:a.value,selected:a.selected}},[t._v(" "+t._s(a.label)+" ")])})),0)])})),0),e("div",{staticStyle:{padding:"0 1.25rem 1.25rem 1.25rem"}},[t.analysisRunning||t.analysisResults?t._e():e("div",{staticStyle:{"background-color":"var(--color-gray-light)","border-radius":"4px",padding:"1.25rem","text-align":"center"}},[e("p",{staticStyle:{color:"#666","margin-bottom":"0.5rem"}},[t._v('Seleccione los parámetros y haga clic en "Ejecutar Análisis" para obtener predicciones basadas en IA')]),e("i",{staticClass:"fas fa-brain",staticStyle:{"font-size":"3rem",color:"var(--color-turquoise)",margin:"1rem 0"}}),e("p",[t._v("Los resultados del análisis se mostrarán aquí")])]),t.analysisRunning?e("AnalysisProgress",{attrs:{progress:t.progressWidth}}):t._e(),!t.analysisRunning&&t.analysisResults?e("div",{staticStyle:{"background-color":"var(--color-gray-light)","border-radius":"4px",padding:"1.25rem"}},[e("h3",{staticStyle:{"margin-top":"0"}},[t._v("Resultados del Análisis Predictivo")]),e("div",{staticStyle:{display:"flex",gap:"1.25rem",margin:"1.25rem 0"}},[e("div",{staticStyle:{flex:"1","background-color":"#fff",padding:"1rem","border-radius":"4px","box-shadow":"0 2px 5px rgba(0,0,0,0.05)"}},[e("h4",{staticStyle:{"margin-top":"0"}},[t._v("Vehículos con alta probabilidad de fallo")]),e("div",{staticStyle:{height:"200px","background-color":"#f0f0f0","border-radius":"4px",display:"flex","flex-direction":"column","justify-content":"center","align-items":"center","margin-bottom":"1rem"}},[e("span",{staticStyle:{"font-size":"3rem","font-weight":"bold",color:"var(--color-error)"}},[t._v(t._s(t.analysisResults.vehicles.length))]),e("span",[t._v("vehículos requieren atención")])]),e("ul",{staticStyle:{"padding-left":"1.25rem",margin:"0"}},t._l(t.analysisResults.vehicles,(function(a,s){return e("li",{key:s},[t._v(" "+t._s(a.model)+" ("+t._s(a.plate)+") - "+t._s(a.probability)+"% probabilidad - "+t._s(a.system)+" ")])})),0)]),e("div",{staticStyle:{flex:"1","background-color":"#fff",padding:"1rem","border-radius":"4px","box-shadow":"0 2px 5px rgba(0,0,0,0.05)"}},[e("h4",{staticStyle:{"margin-top":"0"}},[t._v("Gráfico de probabilidad de fallos")]),e("div",{staticStyle:{height:"200px",display:"flex","align-items":"flex-end",gap:"15px",padding:"0.5rem 0"}},t._l(t.analysisResults.vehicles.slice(0,5),(function(a,s){return e("div",{key:s,staticStyle:{flex:"1",display:"flex","flex-direction":"column","align-items":"center"}},[e("div",{staticStyle:{width:"30px","background-color":"var(--color-error)"},style:{height:1.8*a.probability+"px"}}),e("span",{staticStyle:{"margin-top":"5px","font-size":"0.75rem"}},[t._v(t._s(a.plate))])])})),0),e("p",{staticStyle:{"text-align":"center","margin-top":"1rem","font-size":"0.875rem"}},[t._v("Probabilidad de fallo en los próximos 60 días")])])]),e("div",{staticStyle:{"background-color":"#fff",padding:"1rem","border-radius":"4px","box-shadow":"0 2px 5px rgba(0,0,0,0.05)"}},[e("h4",{staticStyle:{"margin-top":"0"}},[t._v("Recomendaciones automáticas del sistema")]),e("ul",{staticStyle:{"padding-left":"1.25rem"}},t._l(t.analysisResults.recommendations,(function(a,s){return e("li",{key:s},[t._v(" "+t._s(a)+" ")])})),0)]),t._m(1)]):t._e()],1)]),e("div",{staticClass:"card"},[t._m(2),e("div",{staticStyle:{"margin-top":"1.25rem"}},t._l(t.stats.analytics.recent_analyses,(function(a,s){return e("div",{key:s,staticStyle:{border:"1px solid var(--color-gray-medium)","border-radius":"4px","margin-bottom":"1.25rem"}},[e("div",{staticStyle:{padding:"1rem","background-color":"var(--color-gray-light)","border-bottom":"1px solid var(--color-gray-medium)",display:"flex","justify-content":"space-between","align-items":"center"}},[e("h3",{staticStyle:{margin:"0","font-size":"1.125rem"}},[t._v(t._s(a.title))]),e("span",{staticStyle:{color:"#666","font-size":"0.875rem"}},[t._v("Generado: "+t._s(a.date))])]),e("div",{staticStyle:{padding:"1rem"}},[e("div",{staticStyle:{display:"flex","margin-bottom":"1rem"}},[e("div",{staticStyle:{flex:"1"}},[e("h4",{staticStyle:{margin:"0 0 0.5rem 0","font-size":"1rem"}},[t._v("Parámetros utilizados")]),e("ul",{staticStyle:{"padding-left":"1.25rem",margin:"0"}},t._l(a.parameters,(function(a,s){return e("li",{key:s},[t._v(t._s(a))])})),0)]),e("div",{staticStyle:{flex:"1"}},[e("h4",{staticStyle:{margin:"0 0 0.5rem 0","font-size":"1rem"}},[t._v("Resumen de resultados")]),e("p",{staticStyle:{margin:"0"}},[t._v(t._s(a.summary))])])]),t._m(3,!0)])])})),0)])],1)},i=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn btn-secondary"},[e("i",{staticClass:"fas fa-cog",staticStyle:{"margin-right":"0.5rem"}}),t._v(" Configuración ")])},function(){var t=this,e=t._self._c;return e("div",{staticStyle:{display:"flex","justify-content":"flex-end",gap:"0.75rem","margin-top":"1.25rem"}},[e("button",{staticClass:"btn btn-secondary"},[e("i",{staticClass:"fas fa-redo-alt",staticStyle:{"margin-right":"0.5rem"}}),t._v(" Recalibrar modelo ")]),e("button",{staticClass:"btn btn-primary"},[e("i",{staticClass:"fas fa-download",staticStyle:{"margin-right":"0.5rem"}}),t._v(" Exportar resultados ")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header"},[e("h2",{staticClass:"card-title"},[t._v("Análisis Recientes")])])},function(){var t=this,e=t._self._c;return e("div",{staticStyle:{display:"flex","justify-content":"flex-end",gap:"0.75rem"}},[e("button",{staticClass:"btn btn-secondary"},[e("i",{staticClass:"fas fa-chart-line",staticStyle:{"margin-right":"0.5rem"}}),t._v(" Ver detalles ")]),e("button",{staticClass:"btn btn-primary"},[e("i",{staticClass:"fas fa-download",staticStyle:{"margin-right":"0.5rem"}}),t._v(" Descargar informe ")])])}],r=(a(6031),a(6213)),n=a(4747),l=a(7125);const o={name:"Analytics",components:{Header:r.Y9,AnalysisProgress:n.A},data:function(){return{stats:l,analysisControls:[{id:"modelType",label:"Modelo de IA",value:"maintenance",options:[{value:"maintenance",label:"Predicción de mantenimiento"},{value:"anomaly",label:"Detección de anomalías"},{value:"pattern",label:"Análisis de patrones de fallos"},{value:"correlation",label:"Correlación de variables"}]},{id:"dataRange",label:"Rango de datos históricos",value:"12",options:[{value:"3",label:"3 meses"},{value:"6",label:"6 meses"},{value:"12",label:"12 meses",selected:!0},{value:"24",label:"24 meses"}]},{id:"predictionPeriod",label:"Período de predicción",value:"60",options:[{value:"30",label:"30 días"},{value:"60",label:"60 días",selected:!0},{value:"90",label:"90 días"},{value:"180",label:"180 días"}]},{id:"confidenceLevel",label:"Nivel de confianza",value:"90",options:[{value:"80",label:"80%"},{value:"90",label:"90%",selected:!0},{value:"95",label:"95%"},{value:"99",label:"99%"}]}],analysisRunning:!1,progressWidth:0,analysisResults:null}},methods:{startAnalysis:function(t){alert("Iniciando análisis de ".concat(t.title))},runAnalysis:function(){var t=this;this.analysisRunning=!0,this.progressWidth=0,this.analysisResults=null,setTimeout((function(){t.progressWidth=100}),100),setTimeout((function(){t.analysisRunning=!1,t.analysisResults={vehicles:[{model:"Toyota Hilux",plate:"ABC-123",probability:87,system:"Sistema de frenos"},{model:"Ford Ranger",plate:"XYZ-789",probability:92,system:"Sistema de transmisión"},{model:"Nissan Frontier",plate:"GHI-789",probability:78,system:"Sistema eléctrico"},{model:"Toyota Hilux",plate:"JKL-012",probability:81,system:"Sistema de suspensión"}],recommendations:["Programar mantenimiento preventivo para los 4 vehículos identificados","Revisar historial de mantenimiento de la flota Ford Ranger (alta incidencia de problemas de transmisión)","Implementar ciclo de inspección más frecuente para el sistema eléctrico de vehículos Nissan Frontier","Actualizar programa de mantenimiento preventivo de los sistemas de suspensión"]}}),3e3)}}},c=o;var d=a(1656),u=(0,d.A)(c,s,i,!1,null,null,null);const v=u.exports},7408:(t,e,a)=>{a.d(e,{A:()=>g});a(2010);var s=function(){var t=this,e=t._self._c;return e("div",[e("Header",{attrs:{title:"Gestión de Conductores"}}),e("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-bottom":"1.875rem"}},[e("div",[e("button",{staticClass:"btn btn-primary",on:{click:function(e){t.showDriverModal=!0}}},[e("i",{staticClass:"fas fa-plus",staticStyle:{"margin-right":"0.5rem"}}),t._v(" Nuevo Conductor ")]),t._m(0)]),e("div",{staticClass:"form-group",staticStyle:{width:"300px",margin:"0"}},[e("div",{staticStyle:{position:"relative"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],staticClass:"form-control",staticStyle:{"padding-right":"35px"},attrs:{type:"text",placeholder:"Buscar conductor..."},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),e("i",{staticClass:"fas fa-search",staticStyle:{position:"absolute",right:"10px",top:"12px",color:"#666"}})])])]),e("div",{staticClass:"dashboard-grid",staticStyle:{"margin-bottom":"1.875rem"}},[e("div",{staticClass:"stats-card"},[e("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"flex-start"}},[e("div",[e("div",{staticClass:"stats-label"},[t._v("Conductores Activos")]),e("div",{staticClass:"stats-value"},[t._v(t._s(t.stats.drivers_stats.active))]),t._m(1)]),t._m(2)])]),e("div",{staticClass:"stats-card"},[e("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"flex-start"}},[e("div",[e("div",{staticClass:"stats-label"},[t._v("Licencias por vencer")]),e("div",{staticClass:"stats-value"},[t._v(t._s(t.stats.drivers_stats.licenses_expiring))]),t._m(3)]),t._m(4)])]),e("div",{staticClass:"stats-card"},[e("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"flex-start"}},[e("div",[e("div",{staticClass:"stats-label"},[t._v("Distancia promedio")]),e("div",{staticClass:"stats-value"},[t._v(t._s(t.stats.drivers_stats.average_distance)+" km")]),t._m(5)]),t._m(6)])])]),e("div",{staticClass:"card"},[t._m(7),e("table",{staticClass:"data-table"},[t._m(8),e("tbody",t._l(t.paginatedDrivers,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.code))]),e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.license.number)+" (Vence: "+t._s(t.formatDate(a.license.expiry))+")")]),e("td",[e("StatusBadge",{attrs:{status:a.status,text:t.getStatusText(a.status)}})],1),e("td",[t._v(t._s(a.vehicle||"No asignado"))]),e("td",[t._v(t._s(a.experience)+" años")]),e("td",[e("button",{staticClass:"btn btn-secondary",staticStyle:{padding:"0.25rem 0.5rem","font-size":"0.813rem"},on:{click:function(e){return t.viewDriver(a)}}},[e("i",{staticClass:"fas fa-eye"})]),e("button",{staticClass:"btn btn-secondary",staticStyle:{padding:"0.25rem 0.5rem","font-size":"0.813rem"},on:{click:function(e){return t.editDriver(a)}}},[e("i",{staticClass:"fas fa-edit"})]),e("button",{staticClass:"btn btn-secondary",staticStyle:{padding:"0.25rem 0.5rem","font-size":"0.813rem"},on:{click:function(e){return t.showStats(a)}}},[e("i",{staticClass:"fas fa-chart-line"})])])])})),0)]),e("Pagination",{attrs:{"current-page":t.currentPage,"total-items":t.filteredDrivers.length,"per-page":t.itemsPerPage,"item-label":"conductores"},on:{"page-change":t.changePage}})],1),e("Modal",{attrs:{show:t.showDriverModal,title:t.editingDriver.id?"Editar Conductor":"Registrar nuevo conductor"},on:{close:function(e){t.showDriverModal=!1}}},[e("DriverForm",{attrs:{"driver-data":t.editingDriver},on:{submit:t.saveDriver,cancel:function(e){t.showDriverModal=!1}}})],1),e("Modal",{attrs:{show:t.showStatsModal,title:"Estadísticas del Conductor"},on:{close:function(e){t.showStatsModal=!1}},scopedSlots:t._u([{key:"footer",fn:function(){return[e("button",{staticClass:"btn btn-secondary",on:{click:function(e){t.showStatsModal=!1}}},[t._v("Cerrar")]),e("button",{staticClass:"btn btn-primary"},[e("i",{staticClass:"fas fa-download",staticStyle:{"margin-right":"0.5rem"}}),t._v(" Exportar estadísticas ")])]},proxy:!0}])},[t.selectedDriver?e("div",[e("h3",[t._v(t._s(t.selectedDriver.name))]),e("div",{staticStyle:{display:"grid","grid-template-columns":"1fr 1fr",gap:"1rem",margin:"1rem 0"}},[e("div",{staticStyle:{"background-color":"var(--color-gray-light)",padding:"1rem","border-radius":"4px","text-align":"center"}},[e("h4",[t._v("Distancia recorrida")]),e("div",{staticStyle:{"font-size":"2.5rem","font-weight":"bold",color:"var(--color-turquoise)"}},[t._v("3,245 km")]),e("div",{staticStyle:{color:"var(--color-success)","font-size":"0.875rem"}},[e("i",{staticClass:"fas fa-arrow-up"}),t._v(" 12% este mes ")])]),e("div",{staticStyle:{"background-color":"var(--color-gray-light)",padding:"1rem","border-radius":"4px","text-align":"center"}},[e("h4",[t._v("Horas de conducción")]),e("div",{staticStyle:{"font-size":"2.5rem","font-weight":"bold",color:"var(--color-turquoise)"}},[t._v("182 h")]),e("div",{staticStyle:{color:"var(--color-success)","font-size":"0.875rem"}},[e("i",{staticClass:"fas fa-arrow-up"}),t._v(" 5% este mes ")])])]),e("div",{staticStyle:{"background-color":"var(--color-gray-light)",padding:"1rem","border-radius":"4px","margin-bottom":"1rem"}},[e("h4",[t._v("Rendimiento por mes")]),e("div",{staticStyle:{height:"200px","background-color":"#f0f0f0","border-radius":"4px",display:"flex","align-items":"flex-end",gap:"15px",padding:"10px","margin-top":"0.5rem"}},t._l(["Ene","Feb","Mar","Abr","May"],(function(a,s){return e("div",{key:s,staticStyle:{flex:"1",display:"flex","flex-direction":"column","align-items":"center"}},[e("div",{staticStyle:{width:"30px","background-color":"var(--color-turquoise)"},style:{height:60+100*Math.random()+"px"}}),e("span",{staticStyle:{"margin-top":"5px","font-size":"0.75rem"}},[t._v(t._s(a))])])})),0)]),e("div",{staticStyle:{"background-color":"var(--color-gray-light)",padding:"1rem","border-radius":"4px"}},[e("h4",[t._v("Incidencias")]),e("table",{staticStyle:{width:"100%","border-collapse":"collapse","margin-top":"0.5rem"}},[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left",padding:"0.5rem","border-bottom":"1px solid #ddd"}},[t._v("Fecha")]),e("th",{staticStyle:{"text-align":"left",padding:"0.5rem","border-bottom":"1px solid #ddd"}},[t._v("Tipo")]),e("th",{staticStyle:{"text-align":"left",padding:"0.5rem","border-bottom":"1px solid #ddd"}},[t._v("Descripción")])])]),e("tbody",[e("tr",[e("td",{staticStyle:{padding:"0.5rem","border-bottom":"1px solid #eee"}},[t._v("15/04/2025")]),e("td",{staticStyle:{padding:"0.5rem","border-bottom":"1px solid #eee"}},[t._v("Advertencia")]),e("td",{staticStyle:{padding:"0.5rem","border-bottom":"1px solid #eee"}},[t._v("Exceso de velocidad (78 km/h en zona de 60 km/h)")])]),e("tr",[e("td",{staticStyle:{padding:"0.5rem","border-bottom":"1px solid #eee"}},[t._v("02/03/2025")]),e("td",{staticStyle:{padding:"0.5rem","border-bottom":"1px solid #eee"}},[t._v("Retraso")]),e("td",{staticStyle:{padding:"0.5rem","border-bottom":"1px solid #eee"}},[t._v("Llegada tardía (45 minutos) a punto de entrega")])])])])])]):t._e()])],1)},i=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn btn-secondary",staticStyle:{"margin-left":"0.5rem"}},[e("i",{staticClass:"fas fa-filter",staticStyle:{"margin-right":"0.5rem"}}),t._v(" Filtros ")])},function(){var t=this,e=t._self._c;return e("div",{staticStyle:{color:"var(--color-success)","font-size":"0.875rem"}},[e("i",{staticClass:"fas fa-arrow-up"}),t._v(" 5% este mes ")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"stats-icon"},[e("i",{staticClass:"fas fa-user-check"})])},function(){var t=this,e=t._self._c;return e("div",{staticStyle:{color:"var(--color-warning)","font-size":"0.875rem"}},[e("i",{staticClass:"fas fa-exclamation-triangle"}),t._v(" Próximos 30 días ")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"stats-icon"},[e("i",{staticClass:"fas fa-id-card"})])},function(){var t=this,e=t._self._c;return e("div",{staticStyle:{color:"var(--color-success)","font-size":"0.875rem"}},[e("i",{staticClass:"fas fa-arrow-up"}),t._v(" 12% este mes ")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"stats-icon"},[e("i",{staticClass:"fas fa-road"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header"},[e("h2",{staticClass:"card-title"},[t._v("Listado de conductores")]),e("div",[e("button",{staticClass:"btn btn-secondary"},[e("i",{staticClass:"fas fa-download",staticStyle:{"margin-right":"0.5rem"}}),t._v(" Exportar ")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("ID")]),e("th",[t._v("Nombre")]),e("th",[t._v("Licencia")]),e("th",[t._v("Estado")]),e("th",[t._v("Vehículo asignado")]),e("th",[t._v("Experiencia")]),e("th",[t._v("Acciones")])])])}],r=a(9201),n=a(9258),l=(a(2008),a(8980),a(4423),a(2062),a(4114),a(4782),a(4554),a(3288),a(8111),a(2489),a(1701),a(6099),a(1699),a(8156),a(6213)),o=a(8190),c=a(4497),d=a(7125);const u={name:"DriverManagement",components:{Header:l.Y9,StatusBadge:l.Wh,Modal:l.aF,Pagination:l.dK,DriverForm:o.A},data:function(){return{drivers:(0,n.A)(c),stats:d,searchQuery:"",currentPage:1,itemsPerPage:5,showDriverModal:!1,showStatsModal:!1,editingDriver:{},selectedDriver:null}},computed:{filteredDrivers:function(){if(!this.searchQuery)return this.drivers;var t=this.searchQuery.toLowerCase();return this.drivers.filter((function(e){return e.name.toLowerCase().includes(t)||e.code.toLowerCase().includes(t)||e.license.number.toLowerCase().includes(t)}))},paginatedDrivers:function(){var t=(this.currentPage-1)*this.itemsPerPage,e=t+this.itemsPerPage;return this.filteredDrivers.slice(t,e)}},methods:{getStatusText:function(t){var e={active:"Activo",inactive:"Descanso",warning:"En ruta"};return e[t]||t},formatDate:function(t){if(!t)return"N/A";var e=new Date(t);return e.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})},viewDriver:function(t){this.selectedDriver=t,this.showDriverModal=!0,this.editingDriver=(0,r.A)({},t)},editDriver:function(t){this.editingDriver=(0,r.A)({},t),this.showDriverModal=!0},showStats:function(t){this.selectedDriver=t,this.showStatsModal=!0},saveDriver:function(t){if(t.id){var e=this.drivers.findIndex((function(e){return e.id===t.id}));-1!==e&&this.drivers.splice(e,1,t)}else{var a=Math.max.apply(Math,(0,n.A)(this.drivers.map((function(t){return t.id}))))+1,s="DR-".concat(String(a).padStart(3,"0"));this.drivers.push((0,r.A)((0,r.A)({},t),{},{id:a,code:s}))}this.showDriverModal=!1,this.editingDriver={}},changePage:function(t){this.currentPage=t}}},v=u;var m=a(1656),f=(0,m.A)(v,s,i,!1,null,null,null);const g=f.exports}}]);